---
"categories": ["MongoDB"],
"tags": ["MongoDB"],
"date": "2014-06-22T13:32:00+08:00",
"title": "MongoDB分片集群原理"
---

MongoDB目前有3大核心优势："灵活自由"，"高可用性"，"高可扩展性"，通过JSON文档来实现灵活模式，通过复制集来保证高可用性，通过分片集群来保证高可扩展性。

通常，在MongoDB复制集在遇到下面的业务场景时，就需要考虑分片集群：

* 存储容量需求超出单击磁盘容量。
* 活跃的数据集超出单机内存容量，导致很多请求都要从磁盘读取数据，影响性能。
* 写IOPS超出单个MongoDB节点的写服务能力。

总之，分片集群在突破单机磁盘容量限制，分解单机内存压力，缓解单机磁盘写压力等方面，实现了MongoDB集群的高可扩展性。



### 分片集群架构

MongoDB的分片集群(Shared Cluster)由mongos, config server, replica set三部分组成.